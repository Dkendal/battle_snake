<!doctype html>
<html lang="en">
<head>
<title>BattleSnake 2017 API</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="generator" content="Org-mode">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/js/bootstrap.min.js"></script>
<link  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
<link  href="./index.css" rel="stylesheet">
<style type="text/css">
/* org mode styles on top of twbs */

html {
    position: relative;
    min-height: 100%;
}

body {
    font-size: 18px;
    margin-bottom: 105px;
}

footer {
    position: absolute;
    bottom: 0;
    width: 100%;
    height: 101px;
    background-color: #f5f5f5;
}

footer > div {
    padding: 10px;
}

footer p {
    margin: 0 0 5px;
    text-align: center;
    font-size: 16px;
}

#table-of-contents {
    margin-top: 20px;
    margin-bottom: 20px;
}

blockquote p {
    font-size: 18px;
}

pre {
    font-size: 16px;
}

.footpara {
    display: inline-block;
}

figcaption {
  font-size: 16px;
  color: #666;
  font-style: italic;
  padding-bottom: 15px;
}

/* from twbs docs */

.bs-docs-sidebar.affix {
    position: static;
}
@media (min-width: 768px) {
    .bs-docs-sidebar {
        padding-left: 20px;
    }
}

/* All levels of nav */
.bs-docs-sidebar .nav > li > a {
    display: block;
    padding: 4px 20px;
    font-size: 14px;
    font-weight: 500;
    color: #999;
}
.bs-docs-sidebar .nav > li > a:hover,
.bs-docs-sidebar .nav > li > a:focus {
    padding-left: 19px;
    color: #A1283B;
    text-decoration: none;
    background-color: transparent;
    border-left: 1px solid #A1283B;
}
.bs-docs-sidebar .nav > .active > a,
.bs-docs-sidebar .nav > .active:hover > a,
.bs-docs-sidebar .nav > .active:focus > a {
    padding-left: 18px;
    font-weight: bold;
    color: #A1283B;
    background-color: transparent;
    border-left: 2px solid #A1283B;
}

/* Nav: second level (shown on .active) */
.bs-docs-sidebar .nav .nav {
    display: none; /* Hide by default, but at >768px, show it */
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 30px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav > li > a:focus {
    padding-left: 29px;
}
.bs-docs-sidebar .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav > .active:focus > a {
    padding-left: 28px;
    font-weight: 500;
}

/* Nav: third level (shown on .active) */
.bs-docs-sidebar .nav .nav .nav {
    padding-bottom: 10px;
}
.bs-docs-sidebar .nav .nav .nav > li > a {
    padding-top: 1px;
    padding-bottom: 1px;
    padding-left: 40px;
    font-size: 12px;
    font-weight: normal;
}
.bs-docs-sidebar .nav .nav .nav > li > a:hover,
.bs-docs-sidebar .nav .nav .nav > li > a:focus {
    padding-left: 39px;
}
.bs-docs-sidebar .nav .nav .nav > .active > a,
.bs-docs-sidebar .nav .nav .nav > .active:hover > a,
.bs-docs-sidebar .nav .nav .nav > .active:focus > a {
    padding-left: 38px;
    font-weight: 500;
}

/* Show and affix the side nav when space allows it */
@media (min-width: 992px) {
    .bs-docs-sidebar .nav > .active > ul {
        display: block;
    }
    /* Widen the fixed sidebar */
    .bs-docs-sidebar.affix,
    .bs-docs-sidebar.affix-bottom {
        width: 213px;
    }
    .bs-docs-sidebar.affix {
        position: fixed; /* Undo the static from mobile first approach */
        top: 20px;
    }
    .bs-docs-sidebar.affix-bottom {
        position: absolute; /* Undo the static from mobile first approach */
    }
    .bs-docs-sidebar.affix .bs-docs-sidenav,.bs-docs-sidebar.affix-bottom .bs-docs-sidenav {
        margin-top: 0;
        margin-bottom: 0
    }
}
@media (min-width: 1200px) {
    /* Widen the fixed sidebar again */
    .bs-docs-sidebar.affix-bottom,
    .bs-docs-sidebar.affix {
        width: 263px;
    }
}
</style>
<script type="text/javascript">
$(function() {
    'use strict';

    $('.bs-docs-sidebar li').first().addClass('active');

    $(document.body).scrollspy({target: '.bs-docs-sidebar'});

    $('.bs-docs-sidebar').affix();
});
</script>
</head>
<body>
<div id="content" class="container">
<div class="row"><div class="col-md-9"><h1 class="title">BattleSnake 2017 API</h1>
<style>
</style>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
Like previous years, all competing clients are expected to provide a web
application that is available at a routeable URL.
</p>

<p>
Clients are expected to respond to HTTP requests and provide a route for <a href="#post-start">POST /start</a> and <a href="#post-move">POST /move</a>.
</p>

<p>
All clients are expected to respond within 200ms of the server's initial
request. Failing to respond before the timemout may result in the server
choosing a random move for you.
</p>

<p>
All responses are expected to have a <code>200 OK</code> status code.
</p>
</div>
</div>

<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> Callbacks</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-post-start" class="outline-3">
<h3 id="post-start"><a id="sec-2-1" name="sec-2-1"></a><span class="section-number-3">2.1</span> <code>POST /start</code></h3>
<div class="outline-text-3" id="text-post-start">
<p>
Called when a new game is started.
</p>

<p>
Game IDs are guaranteed to be unique<sup><a id="fnr.1" name="fnr.1" class="footref" href="#fn.1">1</a></sup>.
</p>

<p>
The purpose of this callback is for clients to report what their snake's
name, colour, and other display properties should be for this game.
</p>

<p>
This callback should not be used to manage internal snake state it is not
guaranteed that as you will be notified when the game ends, or when your
snake dies.
</p>

<p>
All attributes the request are provided to maintain backwards compatibility
with 2015 snake clients - it is <b>strongly</b> recommend that clients exclusively
use the <a href="#post-move">move callback</a> for any and all game play logic.
</p>

<table class="table">


<colgroup>
<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left"><b>URL</b></td>
<td class="text-left">/start</td>
</tr>

<tr>
<td class="text-left"><b>Method</b></td>
<td class="text-left">POST</td>
</tr>

<tr>
<td class="text-left"><b>Headers</b></td>
<td class="text-left">Content-Type: application-json</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-2-1-1" class="outline-4">
<h4 id="sec-2-1-1"><span class="section-number-4">2.1.1</span> Request attributes</h4>
<div class="outline-text-4" id="text-2-1-1">
<table class="table">


<colgroup>
<col  class="left">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">Attribute</th>
<th scope="col" class="text-left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left"><b>game_id</b></td>
<td class="text-left">UUID</td>
</tr>

<tr>
<td class="text-left"><b>height</b></td>
<td class="text-left">integer</td>
</tr>

<tr>
<td class="text-left"><b>width</b></td>
<td class="text-left">integer</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-2-1-2" class="outline-4">
<h4 id="sec-2-1-2"><span class="section-number-4">2.1.2</span> Example Request</h4>
<div class="outline-text-4" id="text-2-1-2">
<div class="org-src-container">

<pre class="src src-js"><span class="org-rainbow-delimiters-depth-1">{</span>
  <span class="org-string">"width"</span>: <span class="org-highlight-numbers-number">20</span>,
  <span class="org-string">"height"</span>: <span class="org-highlight-numbers-number">20</span>,
  <span class="org-string">"game_id"</span>: <span class="org-string">"b1dadee8-a112-4e0e-afa2-2845cd1f21aa"</span>
<span class="org-rainbow-delimiters-depth-1">}</span>
:ok
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-1-3" class="outline-4">
<h4 id="sec-2-1-3"><span class="section-number-4">2.1.3</span> Response Attributes</h4>
<div class="outline-text-4" id="text-2-1-3">
<table class="table">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">Attribute</th>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-left">Type</th>
<th scope="col" class="text-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left"><b>color</b></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">string</td>
<td class="text-left">A valid css color. HSL, RBG, hex, or named colours are all valid.</td>
</tr>

<tr>
<td class="text-left"><b>head_url</b></td>
<td class="text-left"><i>optional</i></td>
<td class="text-left">url</td>
<td class="text-left">Url of an image to use for the head of your snake.</td>
</tr>

<tr>
<td class="text-left"><b>name</b></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">string</td>
<td class="text-left">Your snake's name.</td>
</tr>

<tr>
<td class="text-left"><b>taunt</b></td>
<td class="text-left"><i>optional</i></td>
<td class="text-left">string</td>
<td class="text-left">Message to display in the game client.</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-2-1-4" class="outline-4">
<h4 id="sec-2-1-4"><span class="section-number-4">2.1.4</span> Example Response</h4>
<div class="outline-text-4" id="text-2-1-4">
<ul class="org-ul">
<li>Code: <code>200 OK</code>
</li>
<li>Content:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-js"><span class="org-rainbow-delimiters-depth-1">{</span>
      <span class="org-string">"color"</span>: <span class="org-string">"#FF0000"</span>,
      <span class="org-string">"head_url"</span>: <span class="org-string">"http://placecage.com/c/100/100"</span>,
      <span class="org-string">"name"</span>: <span class="org-string">"Cage Snake"</span>,
      <span class="org-string">"taunt"</span>: <span class="org-string">"OH GOD NOT THE BEES"</span>
  <span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-1-5" class="outline-4">
<h4 id="sec-2-1-5"><span class="section-number-4">2.1.5</span> Sample call</h4>
<div class="outline-text-4" id="text-2-1-5">
<div class="org-src-container">

<pre class="src src-sh"><span class="org-variable-name">my_snake_server_url</span>=<span class="org-string">"localhost:4000/test-snake"</span>

curl $<span class="org-variable-name">my_snake_server_url</span>/start <span class="org-sh-escaped-newline">\</span>
     -X POST <span class="org-sh-escaped-newline">\</span>
     -H <span class="org-string">"Content-Type: application/json"</span> <span class="org-sh-escaped-newline">\</span>
     --data @- &lt;&lt;-REQUEST_BODY
<span class="org-sh-heredoc">{"width":20,"height":20,"game_id":"example-game-id"}</span>
<span class="org-sh-heredoc"> REQUEST_BODY</span>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-js"><span class="org-rainbow-delimiters-depth-1">{</span><span class="org-string">"name"</span>:<span class="org-string">"test-snake"</span>,<span class="org-string">"color"</span>:<span class="org-string">"#123123"</span><span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-post-move" class="outline-3">
<h3 id="post-move"><a id="sec-2-2" name="sec-2-2"></a><span class="section-number-3">2.2</span> <code>POST /move</code></h3>
<div class="outline-text-3" id="text-post-move">
<p>
The game server will issue a request for this callback on each turn to
request the client's move.
</p>

<p>
This callback should be used for all game logic.
</p>

<table class="table">


<colgroup>
<col  class="left">

<col  class="left">
</colgroup>
<tbody>
<tr>
<td class="text-left"><b>URL</b></td>
<td class="text-left">/start</td>
</tr>

<tr>
<td class="text-left"><b>Method</b></td>
<td class="text-left">POST</td>
</tr>

<tr>
<td class="text-left"><b>Headers</b></td>
<td class="text-left">Content-Type: application-json</td>
</tr>
</tbody>
</table>
</div>

<div id="outline-container-sec-2-2-1" class="outline-4">
<h4 id="sec-2-2-1"><span class="section-number-4">2.2.1</span> Request Attributes</h4>
<div class="outline-text-4" id="text-2-2-1">
<table class="table">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">Attribute</th>
<th scope="col" class="text-left">Type</th>
<th scope="col" class="text-left">&#xa0;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left"><b>food</b></td>
<td class="text-left">Array&lt;<a href="#type-point">Point</a>&gt;</td>
<td class="text-left">Array of all food currently on the board</td>
</tr>

<tr>
<td class="text-left"><b>game_id</b></td>
<td class="text-left">UUID</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left"><b>height</b></td>
<td class="text-left">integer</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left"><b>snakes</b></td>
<td class="text-left">Array&lt;<a href="#type-snake">Snake</a>&gt;</td>
<td class="text-left">Array of all living snakes in the game</td>
</tr>

<tr>
<td class="text-left"><b>turn</b></td>
<td class="text-left">integer</td>
<td class="text-left">The current turn.</td>
</tr>

<tr>
<td class="text-left"><b>width</b></td>
<td class="text-left">integer</td>
<td class="text-left">&#xa0;</td>
</tr>

<tr>
<td class="text-left"><b>you</b></td>
<td class="text-left">UUID</td>
<td class="text-left">A reference to your snake's id, the snake object can be found in <code>snakes</code>.</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-2-2-2" class="outline-4">
<h4 id="sec-2-2-2"><span class="section-number-4">2.2.2</span> Example Request</h4>
<div class="outline-text-4" id="text-2-2-2">
<div class="org-src-container">

<pre class="src src-js"><span class="org-rainbow-delimiters-depth-1">{</span>
  <span class="org-string">"you"</span>: <span class="org-string">"25229082-f0d7-4315-8c52-6b0ff23fb1fb"</span>,
  <span class="org-string">"width"</span>: <span class="org-highlight-numbers-number">2</span>,
  <span class="org-string">"turn"</span>: <span class="org-highlight-numbers-number">0</span>,
  <span class="org-string">"snakes"</span>: <span class="org-rainbow-delimiters-depth-2">[</span>
    <span class="org-rainbow-delimiters-depth-3">{</span>
      <span class="org-string">"taunt"</span>: <span class="org-string">"git gud"</span>,
      <span class="org-string">"name"</span>: <span class="org-string">"my-snake"</span>,
      <span class="org-string">"id"</span>: <span class="org-string">"25229082-f0d7-4315-8c52-6b0ff23fb1fb"</span>,
      <span class="org-string">"health_points"</span>: <span class="org-highlight-numbers-number">93</span>,
      <span class="org-string">"coords"</span>: <span class="org-rainbow-delimiters-depth-4">[</span>
        <span class="org-rainbow-delimiters-depth-5">[</span>
          <span class="org-highlight-numbers-number">0</span>,
          <span class="org-highlight-numbers-number">0</span>
        <span class="org-rainbow-delimiters-depth-5">]</span>,
        <span class="org-rainbow-delimiters-depth-5">[</span>
          <span class="org-highlight-numbers-number">0</span>,
          <span class="org-highlight-numbers-number">0</span>
        <span class="org-rainbow-delimiters-depth-5">]</span>,
        <span class="org-rainbow-delimiters-depth-5">[</span>
          <span class="org-highlight-numbers-number">0</span>,
          <span class="org-highlight-numbers-number">0</span>
        <span class="org-rainbow-delimiters-depth-5">]</span>
      <span class="org-rainbow-delimiters-depth-4">]</span>
    <span class="org-rainbow-delimiters-depth-3">}</span>,
    <span class="org-rainbow-delimiters-depth-3">{</span>
      <span class="org-string">"taunt"</span>: <span class="org-string">"gotta go fast"</span>,
      <span class="org-string">"name"</span>: <span class="org-string">"other-snake"</span>,
      <span class="org-string">"id"</span>: <span class="org-string">"0fd33b05-37dd-419e-b44f-af9936a0a00c"</span>,
      <span class="org-string">"health_points"</span>: <span class="org-highlight-numbers-number">50</span>,
      <span class="org-string">"coords"</span>: <span class="org-rainbow-delimiters-depth-4">[</span>
        <span class="org-rainbow-delimiters-depth-5">[</span>
          <span class="org-highlight-numbers-number">1</span>,
          <span class="org-highlight-numbers-number">0</span>
        <span class="org-rainbow-delimiters-depth-5">]</span>,
        <span class="org-rainbow-delimiters-depth-5">[</span>
          <span class="org-highlight-numbers-number">1</span>,
          <span class="org-highlight-numbers-number">0</span>
        <span class="org-rainbow-delimiters-depth-5">]</span>,
        <span class="org-rainbow-delimiters-depth-5">[</span>
          <span class="org-highlight-numbers-number">1</span>,
          <span class="org-highlight-numbers-number">0</span>
        <span class="org-rainbow-delimiters-depth-5">]</span>
      <span class="org-rainbow-delimiters-depth-4">]</span>
    <span class="org-rainbow-delimiters-depth-3">}</span>
  <span class="org-rainbow-delimiters-depth-2">]</span>,
  <span class="org-string">"height"</span>: <span class="org-highlight-numbers-number">2</span>,
  <span class="org-string">"game_id"</span>: <span class="org-string">"870d6d79-93bf-4941-8d9e-944bee131167"</span>,
  <span class="org-string">"food"</span>: <span class="org-rainbow-delimiters-depth-2">[</span>
    <span class="org-rainbow-delimiters-depth-3">[</span>
      <span class="org-highlight-numbers-number">1</span>,
      <span class="org-highlight-numbers-number">1</span>
    <span class="org-rainbow-delimiters-depth-3">]</span>
  <span class="org-rainbow-delimiters-depth-2">]</span>,
  <span class="org-string">"dead_snakes"</span>: <span class="org-rainbow-delimiters-depth-2">[</span>
    <span class="org-rainbow-delimiters-depth-3">{</span>
      <span class="org-string">"taunt"</span>: <span class="org-string">"gotta go fast"</span>,
      <span class="org-string">"name"</span>: <span class="org-string">"other-snake"</span>,
      <span class="org-string">"id"</span>: <span class="org-string">"c4e48602-197e-40b2-80af-8f89ba005ee9"</span>,
      <span class="org-string">"health_points"</span>: <span class="org-highlight-numbers-number">50</span>,
      <span class="org-string">"coords"</span>: <span class="org-rainbow-delimiters-depth-4">[</span>
        <span class="org-rainbow-delimiters-depth-5">[</span>
          <span class="org-highlight-numbers-number">5</span>,
          <span class="org-highlight-numbers-number">0</span>
        <span class="org-rainbow-delimiters-depth-5">]</span>,
        <span class="org-rainbow-delimiters-depth-5">[</span>
          <span class="org-highlight-numbers-number">5</span>,
          <span class="org-highlight-numbers-number">0</span>
        <span class="org-rainbow-delimiters-depth-5">]</span>,
        <span class="org-rainbow-delimiters-depth-5">[</span>
          <span class="org-highlight-numbers-number">5</span>,
          <span class="org-highlight-numbers-number">0</span>
        <span class="org-rainbow-delimiters-depth-5">]</span>
      <span class="org-rainbow-delimiters-depth-4">]</span>
    <span class="org-rainbow-delimiters-depth-3">}</span>
  <span class="org-rainbow-delimiters-depth-2">]</span>
<span class="org-rainbow-delimiters-depth-1">}</span>
:ok
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-2-2-3" class="outline-4">
<h4 id="sec-2-2-3"><span class="section-number-4">2.2.3</span> Response Attributes</h4>
<div class="outline-text-4" id="text-2-2-3">
<table class="table">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">Attribute</th>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left"><b>move</b></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">"up" &vert; "left" &vert; "down" &vert; "right"</td>
</tr>

<tr>
<td class="text-left"><b>taunt</b></td>
<td class="text-left"><i>optional</i></td>
<td class="text-left">string</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-2-2-4" class="outline-4">
<h4 id="sec-2-2-4"><span class="section-number-4">2.2.4</span> Example Response</h4>
<div class="outline-text-4" id="text-2-2-4">
<ul class="org-ul">
<li>Code: <code>200 OK</code>
</li>
<li>Content:
</li>
</ul>
<div class="org-src-container">

<pre class="src src-js"><span class="org-rainbow-delimiters-depth-1">{</span>
    <span class="org-string">"move"</span>: <span class="org-string">"up"</span>,
    <span class="org-string">"taunt"</span>: <span class="org-string">"gotta go fast"</span>
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2-2-5" class="outline-4">
<h4 id="sec-2-2-5"><span class="section-number-4">2.2.5</span> Sample call</h4>
<div class="outline-text-4" id="text-2-2-5">
<div class="org-src-container">

<pre class="src src-sh"><span class="org-variable-name">my_snake_server_url</span>=<span class="org-string">"localhost:4000/test-snake"</span>

curl $<span class="org-variable-name">my_snake_server_url</span>/move <span class="org-sh-escaped-newline">\</span>
     -X POST <span class="org-sh-escaped-newline">\</span>
     -H <span class="org-string">"Content-Type: application/json"</span> <span class="org-sh-escaped-newline">\</span>
     --data @- &lt;&lt;-REQUEST_BODY
<span class="org-sh-heredoc">   {{"you": {"name": "my-snake", "coords": [[0, 0], [0, 0], [0, 0]]},</span>
<span class="org-sh-heredoc">   "turn": 0, "snakes": [{"name": "my-snake", "coords": [[0, 0], [0, 0],</span>
<span class="org-sh-heredoc">   [0, 0]]}], "game_id": 0, "food": [[0, 1]]}</span>
<span class="org-sh-heredoc">   REQUEST_BODY</span>
</pre>
</div>

<div class="org-src-container">

<pre class="src src-js"><span class="org-rainbow-delimiters-depth-1">{</span><span class="org-string">"move"</span>:<span class="org-string">"right"</span><span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>
</div>
</div>


<div id="outline-container-sec-2-2-6" class="outline-4">
<h4 id="sec-2-2-6"><span class="section-number-4">2.2.6</span> Notes</h4>
<div class="outline-text-4" id="text-2-2-6">
<p>
Requests timeout after 200ms, failing to respond will result in the server
choosing a move for you.
</p>
</div>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> Simple Example Snake</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Below is a simple example snake. This is what the bare minimum implementation
of a <i>functional</i> snake might look like.
</p>

<p>
This example is written in Ruby, but you are of course not limited in what
technology you wish to use.
</p>

<p>
In the below example we create a basic Sinatra<sup><a id="fnr.2" name="fnr.2" class="footref" href="#fn.2">2</a></sup> web application. The app
severs the two post callbacks, and provides a response containing only the
required attributes for both.
</p>

<div class="org-src-container">

<pre class="src src-ruby"><span class="org-comment-delimiter"># </span><span class="org-comment">./Gemfile</span>
source <span class="org-string">"https://rubygems.org"</span>
gem <span class="org-string">"sinatra"</span>, <span class="org-constant">require</span>: <span class="org-string">"sinatra/base"</span>
gem <span class="org-string">"rack"</span>

<span class="org-comment-delimiter"># </span><span class="org-comment">./ruby_snake.rb</span>
<span class="org-builtin">require</span> <span class="org-string">"json"</span>

<span class="org-keyword">class</span> <span class="org-type">RubySnake</span> &lt; <span class="org-type">Sinatra</span>::<span class="org-type">Base</span>
  post <span class="org-string">"/start"</span> <span class="org-keyword">do</span>
    <span class="org-rainbow-delimiters-depth-1">{</span>
      <span class="org-constant">name</span>: <span class="org-string">"simple-ruby-example-snake"</span>,
      <span class="org-constant">color</span>: <span class="org-string">"#123456"</span>
    <span class="org-rainbow-delimiters-depth-1">}</span>.to_json
  <span class="org-keyword">end</span>

  post <span class="org-string">"/move"</span> <span class="org-keyword">do</span>
    <span class="org-rainbow-delimiters-depth-1">{</span>
      <span class="org-constant">move</span>: <span class="org-string">"up"</span>
    <span class="org-rainbow-delimiters-depth-1">}</span>.to_json
  <span class="org-keyword">end</span>
<span class="org-keyword">end</span>
</pre>
</div>

<p>
This Snake only goes up, but it works!
</p>
</div>
</div>
</div>


<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> Data Types</h2>
<div class="outline-text-2" id="text-3">
</div><div id="outline-container-type-point" class="outline-3">
<h3 id="type-point"><a id="sec-3-1" name="sec-3-1"></a><span class="section-number-3">3.1</span> Point</h3>
<div class="outline-text-3" id="text-type-point">
<p>
A 2-dimensional vector.
</p>

<pre class="example">
x :: 0..infinity
y :: 0..infinity
Point :: [x, y]
</pre>

<div class="org-src-container">

<pre class="src src-json"><span class="org-rainbow-delimiters-depth-1">[</span><span class="org-highlight-numbers-number">0</span>, <span class="org-highlight-numbers-number">1</span><span class="org-rainbow-delimiters-depth-1">]</span>
</pre>
</div>
</div>
</div>

<div id="outline-container-type-snake" class="outline-3">
<h3 id="type-snake"><a id="sec-3-2" name="sec-3-2"></a><span class="section-number-3">3.2</span> Snake</h3>
<div class="outline-text-3" id="text-type-snake">
<table class="table">


<colgroup>
<col  class="left">

<col  class="left">

<col  class="left">
</colgroup>
<thead>
<tr>
<th scope="col" class="text-left">Attributes</th>
<th scope="col" class="text-left">&#xa0;</th>
<th scope="col" class="text-left">Type</th>
</tr>
</thead>
<tbody>
<tr>
<td class="text-left"><b>coords</b></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">Array&lt;<a href="#type-point">Point</a>&gt;</td>
</tr>

<tr>
<td class="text-left"><b>health_points</b></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">0..100</td>
</tr>

<tr>
<td class="text-left"><b>id</b></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">UUID</td>
</tr>

<tr>
<td class="text-left"><b>name</b></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">string</td>
</tr>

<tr>
<td class="text-left"><b>taunt</b></td>
<td class="text-left">&#xa0;</td>
<td class="text-left">string</td>
</tr>
</tbody>
</table>

<div class="org-src-container">

<pre class="src src-js"><span class="org-rainbow-delimiters-depth-1">{</span>
  <span class="org-string">"taunt"</span>: <span class="org-string">"git gud"</span>,
  <span class="org-string">"name"</span>: <span class="org-string">"my-snake"</span>,
  <span class="org-string">"id"</span>: <span class="org-string">"5b079dcd-0494-4afd-a08e-72c9a7c2d983"</span>,
  <span class="org-string">"health_points"</span>: <span class="org-highlight-numbers-number">93</span>,
  <span class="org-string">"coords"</span>: <span class="org-rainbow-delimiters-depth-2">[</span>
    <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-highlight-numbers-number">0</span>, <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-3">]</span>,
    <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-highlight-numbers-number">0</span>, <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-3">]</span>,
    <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-highlight-numbers-number">0</span>, <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-3">]</span>
  <span class="org-rainbow-delimiters-depth-2">]</span>
<span class="org-rainbow-delimiters-depth-1">}</span>
</pre>
</div>


<p>
<code>coords</code> is a complete list of a snakes head and body segments. The first
segment in <code>coords</code> is a snakes head.
</p>

<p>
When a snake moves its' head segment will move in the direction specified,
and all it's tail segments will advance to space ocupied by the previous
segment
</p>

<p>
Eating food extends your snake's tail, and restores your health points.
</p>

<p>
For example:
</p>

<div class="org-src-container">

<pre class="src src-js"><span class="org-comment-delimiter">// </span><span class="org-comment">before eating food</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
  <span class="org-string">"taunt"</span>: <span class="org-string">"git gud"</span>,
  <span class="org-string">"name"</span>: <span class="org-string">"my-snake"</span>,
  <span class="org-string">"id"</span>: <span class="org-string">"5b079dcd-0494-4afd-a08e-72c9a7c2d983"</span>,
  <span class="org-string">"health_points"</span>: <span class="org-highlight-numbers-number">50</span>,
  <span class="org-string">"coords"</span>: <span class="org-rainbow-delimiters-depth-2">[</span>
    <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-highlight-numbers-number">2</span>, <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-3">]</span>,
    <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-highlight-numbers-number">1</span>, <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-3">]</span>,
    <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-highlight-numbers-number">0</span>, <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-3">]</span>
  <span class="org-rainbow-delimiters-depth-2">]</span>
<span class="org-rainbow-delimiters-depth-1">}</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">moves right, (1, 0), into a space that occupies food (3, 0)</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">the new state of the snake would be</span>
<span class="org-rainbow-delimiters-depth-1">{</span>
  <span class="org-string">"taunt"</span>: <span class="org-string">"git gud"</span>,
  <span class="org-string">"name"</span>: <span class="org-string">"my-snake"</span>,
  <span class="org-string">"id"</span>: <span class="org-string">"5b079dcd-0494-4afd-a08e-72c9a7c2d983"</span>,
  <span class="org-string">"health_points"</span>: <span class="org-highlight-numbers-number">100</span>,
  <span class="org-string">"coords"</span>: <span class="org-rainbow-delimiters-depth-2">[</span>
    <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-highlight-numbers-number">3</span>, <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-3">]</span>,
    <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-highlight-numbers-number">2</span>, <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-3">]</span>,
    <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-highlight-numbers-number">1</span>, <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-3">]</span>,
    <span class="org-rainbow-delimiters-depth-3">[</span><span class="org-highlight-numbers-number">1</span>, <span class="org-highlight-numbers-number">0</span><span class="org-rainbow-delimiters-depth-3">]</span>
  <span class="org-rainbow-delimiters-depth-2">]</span>
<span class="org-rainbow-delimiters-depth-1">}</span>
<span class="org-comment-delimiter">// </span><span class="org-comment">the tail has been extended by 1 and the health restored to 100</span>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> Game Rules</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> Objective</h3>
<div class="outline-text-3" id="text-4-1">
<p>
BattleSnake is an adaptation of the classic video game "Snake", where the player
maneuvers a snake around the play field to collect food pellets, which makes
the snake grow longer. The main objective is to collect as much food as
as possible, while avoiding hitting obstacles, such as walls and most
importantly - your own snake.
</p>

<p>
In BattleSnake, each round X number of snakes is pitted against each other,
and the goal is to be the last snake left alive at the end of the round.
</p>
</div>
</div>

<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> You lose if your snake&#x2026;</h3>
<div class="outline-text-3" id="text-4-2">
<ul class="org-ul">
<li>Runs into another snake's body.
</li>
<li>Runs into its own body.
</li>
<li>Runs into the walls of the play field.
</li>
<li>Collides head-to-head with a longer snake (both die if they are of the same size).
</li>
<li>Starves.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> Starvation rules</h3>
<div class="outline-text-3" id="text-4-3">
<ul class="org-ul">
<li>Your snake starts out with 100 life and counts down by 1 each turn.
</li>
<li>When your snake's life total reaches 0, it dies of starvation.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><span class="section-number-3">4.4</span> Avoiding starvation</h3>
<div class="outline-text-3" id="text-4-4">
<ul class="org-ul">
<li>Food pellets spawn randomly around the play field.
</li>
<li>Each food pellet increases your snake's length by 1 and resets its life to 100.
</li>
</ul>
</div>
</div>

<div id="outline-container-sec-4-5" class="outline-3">
<h3 id="sec-4-5"><span class="section-number-3">4.5</span> Sportsmanship</h3>
<div class="outline-text-3" id="text-4-5">
<ul class="org-ul">
<li>No DDoSing your opponents.
</li>
<li>No manual control of your snake.
</li>
</ul>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> General Advice</h2>
<div class="outline-text-2" id="text-5">
<p>
coming soon&#x2026;
</p>
</div>
</div>
<div id="outline-container-sec-6" class="outline-2">
<h2 id="sec-6"><span class="section-number-2">6</span> Deploying Your Snake</h2>
<div class="outline-text-2" id="text-6">
<p>
coming soon&#x2026;
</p>
</div>
</div>
<div id="outline-container-sec-7" class="outline-2">
<h2 id="sec-7"><span class="section-number-2">7</span> Example Snakes</h2>
<div class="outline-text-2" id="text-7">
<p>
more coming soon&#x2026;
</p>
</div>
<div id="outline-container-sec-7-1" class="outline-3">
<h3 id="sec-7-1"><span class="section-number-3">7.1</span> Ruby Snake</h3>
<div class="outline-text-3" id="text-7-1">
<p>
<a href="https://github.com/Stembolthq/battle_snake/blob/v2.0.0/examples/ruby_snake/ruby_snake.rb">Ruby Snake</a>
</p>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" name="fn.1" class="footnum" href="#fnr.1">1</a></sup> <p class="footpara">
<a href="https://en.wikipedia.org/wiki/Universally_unique_identifier#Collisions">https://en.wikipedia.org/wiki/Universally_unique_identifier#Collisions</a>
</p></div>

<div class="footdef"><sup><a id="fn.2" name="fn.2" class="footnum" href="#fnr.2">2</a></sup> <p class="footpara">
<a href="http://www.sinatrarb.com/intro.html">http://www.sinatrarb.com/intro.html</a>
</p></div>


</div>
</div></div><div class="col-md-3"><nav id="table-of-contents">
<div id="text-table-of-contents" class="bs-docs-sidebar">
<ul class="nav">
<li><a href="#sec-1">1. Introduction</a></li>
<li><a href="#sec-2">2. Callbacks</a>
<ul class="nav">
<li><a href="#post-start">2.1. <code>POST /start</code></a>
<ul class="nav">
<li><a href="#sec-2-1-1">2.1.1. Request attributes</a></li>
<li><a href="#sec-2-1-2">2.1.2. Example Request</a></li>
<li><a href="#sec-2-1-3">2.1.3. Response Attributes</a></li>
<li><a href="#sec-2-1-4">2.1.4. Example Response</a></li>
<li><a href="#sec-2-1-5">2.1.5. Sample call</a></li>
</ul>
</li>
<li><a href="#post-move">2.2. <code>POST /move</code></a>
<ul class="nav">
<li><a href="#sec-2-2-1">2.2.1. Request Attributes</a></li>
<li><a href="#sec-2-2-2">2.2.2. Example Request</a></li>
<li><a href="#sec-2-2-3">2.2.3. Response Attributes</a></li>
<li><a href="#sec-2-2-4">2.2.4. Example Response</a></li>
<li><a href="#sec-2-2-5">2.2.5. Sample call</a></li>
<li><a href="#sec-2-2-6">2.2.6. Notes</a></li>
</ul>
</li>
<li><a href="#sec-2-3">2.3. Simple Example Snake</a></li>
</ul>
</li>
<li><a href="#sec-3">3. Data Types</a>
<ul class="nav">
<li><a href="#type-point">3.1. Point</a></li>
<li><a href="#type-snake">3.2. Snake</a></li>
</ul>
</li>
<li><a href="#sec-4">4. Game Rules</a>
<ul class="nav">
<li><a href="#sec-4-1">4.1. Objective</a></li>
<li><a href="#sec-4-2">4.2. You lose if your snake&#x2026;</a></li>
<li><a href="#sec-4-3">4.3. Starvation rules</a></li>
<li><a href="#sec-4-4">4.4. Avoiding starvation</a></li>
<li><a href="#sec-4-5">4.5. Sportsmanship</a></li>
</ul>
</li>
<li><a href="#sec-5">5. General Advice</a></li>
<li><a href="#sec-6">6. Deploying Your Snake</a></li>
<li><a href="#sec-7">7. Example Snakes</a>
<ul class="nav">
<li><a href="#sec-7-1">7.1. Ruby Snake</a></li>
</ul>
</li>
</ul>
</div>
</nav>
</div></div></div>
<footer id="postamble" class="">
<div></div>
</footer>
</body>
</html>
